XPathJS=(function(){var A,t,o,b,u,D,c,q,G,x,y,j=[],d="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",p="http://www.w3.org/1999/xhtml",s,F,B,C,h,g,z=function(I){return I.ownerDocument},n=function(J){var I=[],K=function(L,N){var O,M,P=[];for(M=0;M<L.length;M++){O=L.item(M);if(false!==arrayIndexOf(O.nodeType,N)){P.push(O)}}return P};switch(J.nodeType){case 1:I=K(J.childNodes,supportedChildNodeTypes=[1,3,4,7,8]);break;case 9:I=K(J.childNodes,supportedChildNodeTypes=[1,7,8]);break;case 2:case 3:case 4:case 7:case 8:case 13:break;default:throw new Error("Internal Error: nodeChildren - unsupported node type: "+J.nodeType);break}return I},l=function(L){var J,K,I=[];J=n(L);for(K=0;K<J.length;K++){I.push(J[K]);I.push.apply(I,l(J[K]))}return I},f=function(J){var I;switch(J.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:return J.parentNode;break;case 2:if(J.ownerElement){return J.ownerElement}I=nodeAttributeSearch(J.ownerDocument,true,function(K,L){if(L===J){return true}});return I;break;case 13:return J.ownerElement;break;default:throw new Error("Internal Error: nodeParent - node type not supported: "+J.type);break}},a=function(K){var J,I=[];while(J=f(K)){I.push(J);K=J}return I},k=function(I){return H(I,"nextSibling")},m=function(I){return H(I,"previousSibling")},H=function(L,K){var J,I=[];while(J=L[K]){switch(J.nodeType){case 1:case 3:case 4:case 7:case 8:case 9:I.push(J);break;default:break}L=J}return I},r=function(M){var I=[],K,L,N,J;K=a(M);K.unshift(M);for(L=0;L<K.length;L++){N=k(K[L]);for(J=0;J<N.length;J++){I.push(N[J]);I.push.apply(I,l(N[J]))}}return I},e=function(M){var I=[],K,L,N,J;K=a(M);K.unshift(M);for(L=0;L<K.length;L++){N=m(K[L]);for(J=0;J<N.length;J++){I.push.apply(I,l(N[J]).reverse());I.push(N[J])}}return I},z=function(I){switch(I.nodeType){case 9:return I;default:return I.ownerDocument}};nodeAttribute=function(K){var I=[],J;if(K.nodeType===1){for(J=0;J<K.attributes.length;J++){if(!K.attributes[J].specified){continue}if(false===isNamespaceAttributeNode(K.attributes[J])){I.push(K.attributes[J])}}}return I},nodeNamespace=function(M,N){var I=(N||[]),K,J,L;if(M.nodeType===1){if(M.ownerDocument.documentElement===M&&typeof M.ownerDocument.namespaces==="object"){for(K=M.ownerDocument.namespaces.length-1;K>=0;K--){L=M.ownerDocument.namespaces.item(K);insertNamespaceIfNotDeclared.call(this,I,L.name,L.urn,M)}}for(K=M.attributes.length-1;K>=0;K--){if(!M.attributes[K].specified){continue}if(false===(J=isNamespaceAttributeNode(M.attributes[K]))){continue}if(J.length===1){insertNamespaceIfNotDeclared.call(this,I,"",M.attributes[K].nodeValue,M);continue}insertNamespaceIfNotDeclared.call(this,I,J[1],M.attributes[K].nodeValue,M)}nodeNamespace.call(this,M.parentNode,I);if(N===undefined){insertNamespaceIfNotDeclared.call(this,I,"xml",d,M);if(I[0]&&I[0].prefix===""&&I[0].namespaceURI===""){I.shift()}}if(N===undefined){for(K=0;K<I.length;K++){if(I[K].ownerElement!==M){I[K]=createNamespaceNode(I[K].prefix,I[K].nodeValue,M)}}}}return I},insertNamespaceIfNotDeclared=function(N,M,L,K){var I,J;if(!this.opts["case-sensitive"]){M=M.toLowerCase()}for(I=0;I<N.length;I++){if(N[I].prefix===M){return false}}J=createNamespaceNode(M,L,K);if(M===""&&L!==null){N.unshift(J)}else{N.push(J)}return true},isNamespaceAttributeNode=function(J){var I=J.nodeName.split(":");if(I[0]==="xmlns"){return I}return false},nodeIdAttribute=function(M,L){var P,N,O,K,Q,I,J;if(M.nodeType===1){O=(!L)?nodeAttribute(M):[L];K=nodeNamespace.call(this,M);for(P=0;P<O.length;P++){I=O[P].nodeName.split(":");if(I.length===1){I[1]=I[0];I[0]=""}Q=null;for(N=0;N<K.length;N++){if(K[N].prefix===I[0]){Q=K[N].namespaceURI;break}}if(Q===null){Q=""}if(this.opts["unique-ids"][Q]===I[1]){return O[P]}}}return null},nodeAttributeSearch=function(J,M,N){var L,I,P,K,O=[];P=J.getElementsByTagName("*");for(L=0;L<P.length;L++){K=P.item(L);if(K.nodeType!=1){continue}for(I=0;I<K.attributes.length;I++){if(!K.attributes[I].specified){continue}if(N(K,K.attributes[I])===true){if(M){return K}else{O.push(K);break}}}}if(M){return null}else{return O}},nodeExpandedName=function(K){var I,L,J,M;switch(K.nodeType){case 1:if(typeof K.scopeName!="undefined"){M={prefix:(K.scopeName=="HTML")?"":K.scopeName,name:K.nodeName}}else{I=K.nodeName.split(":");if(I.length==1){M={prefix:"",name:I[0]}}else{M={prefix:I[0],name:I[1]}}}if(!this.opts["case-sensitive"]){M.prefix=M.prefix.toLowerCase();M.name=M.name.toLowerCase()}L=nodeNamespace.call(this,K);for(J=0;J<L.length;J++){if(L[J].prefix===M.prefix){M.ns=L[J].namespaceURI;return M}}if(M.prefix===""){M.ns=null;return M}throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+M.prefix+'" on element: '+K.nodeName);break;case 2:I=K.nodeName.split(":");if(I.length==1){return{prefix:"",ns:null,name:I[0]}}M={prefix:I[0],name:I[1]};if(!this.opts["case-sensitive"]){M.prefix=M.prefix.toLowerCase();M.name=M.name.toLowerCase()}L=nodeNamespace.call(this,f(K));for(J=0;J<L.length;J++){if(L[J].prefix===M.prefix){M.ns=L[J].namespaceURI;return M}}throw new Error('Internal Error: nodeExpandedName - Failed to expand namespace prefix "'+M.prefix+'" on attribute: '+K.nodeName);break;case 13:return{prefix:null,ns:null,name:((!this.opts["case-sensitive"])?K.prefix:K.prefix.toLowerCase())};break;case 7:return{prefix:null,ns:null,name:((!this.opts["case-sensitive"])?K.target:K.target.toLowerCase())};break;default:return false;break}},nodeStringValue=function(K){var J,I,L="";switch(K.nodeType){case 9:case 1:I=q(new y(K,1,1,{},{},{}),{type:"step",args:["descendant",{type:"nodeType",args:["text",[]]}]});I.sortDocumentOrder();for(J=0;J<I.value.length;J++){L+=I.value[J].data}return L;break;case 2:return K.nodeValue;break;case 13:return K.namespaceURI;break;case 7:case 8:case 3:case 4:return K.data;break;default:throw new Error("Internal Error: nodeStringValue does not support node type: "+K.nodeType);break}},createError=function(L,I,K){var J=new Error(K);J.name=I;J.code=L;return J},arrayIndexOf=function(K,J){var I=J.length;while(I--){if(J[I]===K){return I}}return false},compareOperator=function(L,O,J,K){var N,M,P,I,Q;if(L instanceof h){if(O instanceof h){I=O.stringValues();P=L.stringValues();for(N=0;N<P.length;N++){for(M=0;M<I.length;M++){Q=compareOperator(P[N],I[M],J,K);if(Q.toBoolean()){return Q}}}}else{if(O instanceof C){P=L.stringValues();for(N=0;N<P.length;N++){Q=compareOperator(new C(P[N].toNumber()),O,J,K);if(Q.toBoolean()){return Q}}}else{if(O instanceof DateType||(O instanceof B&&O.isDateString())){if(O instanceof B){O=new DateType(O)}P=L.stringValues();for(N=0;N<P.length;N++){Q=compareOperator(new DateType(P[N].toDate()),O,J,K);if(Q.toBoolean()){return Q}}}else{if(O instanceof B){P=L.stringValues();for(N=0;N<P.length;N++){Q=compareOperator(P[N],O,J,K);if(Q.toBoolean()){return Q}}}else{return compareOperator(new F(L.toBoolean()),O,J,K)}}}}}else{if(O instanceof h){if(L instanceof C){I=O.stringValues();for(N=0;N<I.length;N++){Q=compareOperator(L,new C(I[N].toNumber()),J,K);if(Q.toBoolean()){return Q}}}else{if(L instanceof DateType||(L instanceof B&&L.isDateString())){if(L instanceof B){L=new DateType(L)}I=O.stringValues();for(N=0;N<I.length;N++){Q=compareOperator(L,new DateType(I[N].toDate()),J,K);if(Q.toBoolean()){return Q}}}else{if(L instanceof B){I=O.stringValues();for(N=0;N<I.length;N++){Q=compareOperator(L,I[N],J,K);if(Q.toBoolean()){return Q}}}else{return compareOperator(L,new F(O.toBoolean()),J,K)}}}}else{switch(J){case"=":case"!=":if(L instanceof F||O instanceof F){return new F(K(L.toBoolean(),O.toBoolean()))}else{if(L instanceof C||O instanceof C){return new F(K(L.toNumber(),O.toNumber()))}}return new F(K(L.toString(),O.toString()));break;default:return new F(K(L.toNumber(),O.toNumber()));break}}}return new F(false)},getComparableNode=function(I){switch(I.nodeType){case 2:case 3:case 4:case 7:case 8:return f(I);break;case 1:case 9:return I;break;case 13:default:throw new Error("Internal Error: getComparableNode - Node type not supported: "+I.nodeType);break}},compareDocumentPosition=function(K,J){var I,L,M;if(K.nodeType==13&&J.nodeType==13&&K.ownerElement==J.ownerElement){if(K===J){return 0}L=nodeNamespace.call(g,K.ownerElement);for(M=0;M<L.length;M++){if(L[M]===K){I=4;break}else{if(L[M]===J){I=2;break}}}}else{if(K.nodeType==13){K=K.ownerElement}if(J.nodeType==13){J=J.ownerElement}I=compareDocumentPositionNoNamespace(K,J)}return I},compareDocumentPositionNoNamespace=function(L,K){var J,M,I,N,O,P=function(X,Q,V,U,Y,R,S,T,W){if(Y===0||(Y&R)===R){return T+R}else{if((Y&S)===S){return W}else{return Y}}};if(L.compareDocumentPosition){return L.compareDocumentPosition(K)}if(L===K){return 0}J=getComparableNode(L);M=getComparableNode(K);if(J.nodeType===9){if(M.nodeType===9){if(J!==M){return 1}else{I=0}}else{if(J!==M.ownerDocument){return 1}else{I=4+16}}}else{if(M.nodeType===9){if(M!==J.ownerDocument){return 1}else{I=2+8}}else{if(J.ownerDocument!==M.ownerDocument){return 1}else{if(!J.contains||typeof J.sourceIndex==="undefined"||!M.contains||typeof M.sourceIndex==="undefined"){throw new Error('Cannot compare elements. Neither "compareDocumentPosition" nor "contains" available.')}else{I=(J!=M&&J.contains(M)&&16)+(J!=M&&M.contains(J)&&8)+(J.sourceIndex>=0&&M.sourceIndex>=0?(J.sourceIndex<M.sourceIndex&&4)+(J.sourceIndex>M.sourceIndex&&2):1)+0}}}}if(L===J&&K===M){return I}else{if(L===J){return P(L,J,K,M,I,16,8,4,2)}else{if(K===M){return P(K,M,L,J,I,8,16,2,4)}else{if((I&16)===16){return 4}else{if((I&8)===8){return 2}else{if(I===0){for(N=0;N<J.attributes.length;N++){O=J.attributes[N];if(!O.specified){continue}if(O===K){return 2}else{if(O===L){return 4}}}throw new Error("Internal Error: compareDocumentPosition failed to sort attributes.")}else{return I}}}}}}throw new Error("Internal Error: compareDocumentPosition failed to sort nodes.")},nodeSupported=function(I){if(!I){throw createError(9,"NOT_SUPPORTED_ERR","Context node was not supplied.")}else{if(I.nodeType!=9&&I.nodeType!=1&&I.nodeType!=2&&I.nodeType!=3&&I.nodeType!=4&&I.nodeType!=8&&I.nodeType!=7&&I.nodeType!=13){throw createError(9,"NOT_SUPPORTED_ERR","The supplied node type is not supported. (nodeType: "+I.nodeType+")")}else{if(I.nodeType==2&&!I.specified){throw createError(9,"NOT_SUPPORTED_ERR","The supplied node is a non-specified attribute node. Only specified attribute nodes are supported.")}}}},createNamespaceNode=function(M,L,K){var I,J;for(I=0;I<j.length;I++){J=j[I];if(J.prefix===M&&J.nodeValue===L&&J.ownerElement===K){return J}}J=new D(M,L,K);j.push(J);return J};s=function(K,J,I){this.value=K;this.type=J;this.supports=I};s.prototype={value:null,type:null,supports:[],toBoolean:function(){throw new Error('Unable to convert "'+this.type+'" to "boolean".')},toString:function(){throw new Error('Unable to convert "'+this.type+'" to "string".')},toNumber:function(){throw new Error('Unable to convert "'+this.type+'" to "number".')},toNodeSet:function(){throw new Error('Unable to convert "'+this.type+'" to "node-set".')},toDate:function(){throw new Error('Unable to convert "'+this.type+'" to "date".')},canConvertTo:function(I){return false!==arrayIndexOf(I,this.supports)}};F=function(I){s.call(this,I,"boolean",["boolean","string","number","date"])};F.prototype=new s;F.constructor=F;F.prototype.toBoolean=function(){return this.value};F.prototype.toString=function(){return(this.value===true)?"true":"false"};F.prototype.toNumber=function(){return(this.value)?1:0};F.prototype.toDate=function(){return null};h=function(J,I){s.call(this,J,"node-set",["boolean","string","number","node-set","date"]);this.docOrder=(I||"unsorted")};h.prototype=new s;h.constructor=h;h.prototype.toBoolean=function(){return(this.value.length>0)?true:false};h.prototype.toString=function(){if(this.value.length<1){return""}this.sortDocumentOrder();return nodeStringValue(this.value[0])};h.prototype.toNumber=function(){return(new B(this.toString())).toNumber()};h.prototype.toNodeSet=function(){return this.value};h.prototype.toDate=function(){return(new B(this.toString())).toDate()};h.prototype.sortDocumentOrder=function(){switch(this.docOrder){case"document-order":break;case"reverse-document-order":this.value.reverse();break;default:this.value.sort(function(K,J){var I=compareDocumentPosition(K,J);if((I&4)==4){return -1}else{if((I&2)==2){return 1}else{throw new Error("NodeSetType.sortDocumentOrder - unexpected compare result: "+I)}}});break}this.docOrder="document-order"};h.prototype.sortReverseDocumentOrder=function(){switch(this.docOrder){case"document-order":this.value.reverse();break;case"reverse-document-order":break;default:this.sortDocumentOrder();this.value.reverse();break}this.docOrder="reverse-document-order"};h.prototype.append=function(J){var M,L=0,K=0,I;if(!J instanceof h){throw new Error("NodeSetType can be passed into NodeSetType.append method")}this.sortDocumentOrder();J.sortDocumentOrder();while(L<this.value.length&&K<J.value.length){I=compareDocumentPosition(this.value[L],J.value[K]);if(I==0){K++}else{if((I&4)==4){L++}else{if((I&2)==2){this.value.splice(L,0,J.value[K]);L++;K++}else{throw new Error("Internal Error: NodeSetType.append - unable to sort nodes. (result: "+I+")")}}}}for(;K<J.value.length;K++){this.value.push(J.value[K])}this.docOrder="document-order"};h.prototype.stringValues=function(){var J,K,I=[];for(J=0;J<this.value.length;J++){K=new B(nodeStringValue(this.value[J]));if(K.isDateString()){K=new DateType(K.value)}I.push(K)}return I};B=function(I){s.call(this,I,"string",["boolean","string","number","date"])};B.prototype=new s;B.constructor=B;B.prototype.toBoolean=function(){return(this.value.length>0)?true:false};B.prototype.toString=function(){return this.value};B.prototype.toNumber=function(){var I;if(this.isDateString(this.value)){return new DateType(this.value).toNumber()}I=this.value.match(/^[ \t\r\n]*(-?[0-9]+(?:[.][0-9]*)?)[ \t\r\n]*$/);if(I!==null){return parseFloat(I[1])}I=this.value.match(/^[ \t\r\n]*(-?[.][0-9]+)[ \t\r\n]*$/);if(I!==null){return parseFloat(I[1])}return Number.NaN};B.prototype.toDate=function(){return new Date(this.value)};B.prototype.isDateString=function(){if(!isNaN(this.value)){return false}if(isNaN(Date.parse(this.value))){return false}if(!/('|")?[0-9]{4}(-|\/)[0-9]{2}(-|\/)[0-9]{2}('|")?/.test(this.value)){return false}console.debug("found string value that passes check for datestringiness: "+this.value);return true};C=function(I){s.call(this,I,"number",["boolean","string","number","date"])};C.prototype=new s;C.constructor=C;C.prototype.toBoolean=function(){return(this.value!==0&&!isNaN(this.value))?true:false};C.prototype.toString=function(){return this.value.toString()};C.prototype.toNumber=function(){return this.value};C.prototype.toDate=function(){return new Date(this.value*(1000*60*60*24))};DateType=function(I){s.call(this,I,"date",["date","string","number","boolean"])};DateType.prototype=new s;DateType.constructor=DateType;DateType.prototype.toDate=function(){return new Date(this.value)};DateType.prototype.toString=function(){return new Date(this.value).toUTCString()};DateType.prototype.toNumber=function(){return(new Date(this.value).getTime())/(1000*60*60*24)};DateType.prototype.toBoolean=function(){return(!isNaN(new Date(this.value).getTime()))};A=function(K,J){var I;this.code=K;switch(this.code){case A.INVALID_EXPRESSION_ERR:this.name="INVALID_EXPRESSION_ERR";break;case A.TYPE_ERR:this.name="TYPE_ERR";break;default:I=new Error("Unsupported XPathException code: "+this.code);I.name="XPathExceptionInternalError";throw I;break}this.message=(J||"")};A.prototype.toString=function(){return'XPathException: "'+this.message+'", code: "'+this.code+'", name: "'+this.name+'"'};A.INVALID_EXPRESSION_ERR=51;A.TYPE_ERR=52;t=function(J){var K,I,L;for(K in J){L=false;for(I in this.opts){if(K===I){this.opts[K]=J[K];L=true;break}}if(L){continue}throw new Error("Unsupported option: "+K)}this.opts["unique-ids"][d]="id";this.opts["unique-ids"][p]="id"};t.prototype={opts:{"unique-ids":{},"case-sensitive":false},createExpression:function(P,O){var I,M,K,J={},N;try{I=XPathJS._parser.parse(P)}catch(L){M="The expression is not a legal expression.";if(L instanceof XPathJS._parser.SyntaxError){M+=" (line: "+L.line+", character: "+L.column+")"}else{M+=" ("+L.message+")"}throw new A(A.INVALID_EXPRESSION_ERR,M)}if(I.nsPrefixes.length>0){if(typeof O!="object"||typeof O.lookupNamespaceURI==="undefined"){throw new A(A.INVALID_EXPRESSION_ERR,"No namespace resolver provided or lookupNamespaceURI function not supported.")}for(K=0;K<I.nsPrefixes.length;K++){N=I.nsPrefixes[K];J[N]=O.lookupNamespaceURI(N);if(J[N]===null){throw createError(14,"NAMESPACE_ERR",'Undefined namespace prefix "'+N+'" in the context of the given resolver.')}}}return new o(I,J,this.opts)},createNSResolver:function(I){return new b(I)},evaluate:function(M,J,L,K,I){var M=this.createExpression(M,L);return M.evaluate(J,K,I)}};o=function(J,I,K){this.parsedExpression=J;this.namespaceMapping=I;this.opts=K||{}};o.prototype={parsedExpression:null,namespaceMapping:null,opts:{},evaluate:function(J,L,I){var K;g=this;nodeSupported(J);K=new y(J,1,1,{},x,this.namespaceMapping,this.opts);return u.factory(K,L,q(K,this.parsedExpression.tree))}};y=function(M,I,L,O,N,K,J){this.node=M;this.pos=I;this.size=L;this.vars=O;this.fns=N;this.nsMap=K;this.opts=J||{}};y.prototype={node:null,pos:null,size:null,vars:null,fns:null,nsMap:null,opts:null,clone:function(K,I,J){return new y(K||this.node,(typeof I!="undefined")?I:this.pos,(typeof J!="undefined")?J:this.size,this.vars,this.fns,this.nsMap,this.opts)}};b=function(I){nodeSupported(I);this.node=I};b.prototype={node:null,lookupNamespaceURI:function(M){var L=this.node,I,K,J;switch(M){case"xml":return d;break;case"xmlns":return E;break;default:switch(this.node.nodeType){case 9:L=L.documentElement;break;case 1:break;default:L=f(L);break}if(L!=null&&L.nodeType==1){if(""==M){K=L.getAttribute("xmlns");if(K!==null){return K}}else{if(L.ownerDocument.documentElement===L&&typeof L.ownerDocument.namespaces==="object"){for(I=0;I<L.ownerDocument.namespaces.length;I++){K=L.ownerDocument.namespaces.item(I);if(K.name==M){return K.urn}}}else{for(I=0;I<L.attributes.length;I++){if(!L.attributes[I].specified){continue}if("xmlns:"+M==L.attributes[I].nodeName){return L.attributes[I].nodeValue}}}}if(L.ownerDocument.documentElement!==L&&L.parentNode){J=this.node;this.node=L.parentNode;K=this.lookupNamespaceURI(M);this.node=J;return K}}return null;break}}};G={"/":function(O,M){var N,L,I,J,K,P;if(O===null){I=new h([z(this.node)],"document-order")}else{I=q(this,O);if(!I instanceof h){throw new Error("Left side of path separator (/) must be of node-set type. (type: "+I.type+")")}}if(M===null){K=I}else{K=new h([],"document-order");for(L=0;L<I.value.length;L++){P=this.clone(I.value[L]);J=q(P,M);if(!J instanceof h){throw new Error("Right side of path separator (/) must be of node-set type. (type: "+J.type+")")}K.append(J)}}return K},step:function(M,N){var O,Q,L,I,K,P,J;switch(M){case"child":O=new h(n(this.node),"document-order");break;case"descendant":O=new h(l(this.node),"document-order");break;case"parent":L=f(this.node);O=new h((!L)?[]:[L],"document-order");break;case"ancestor":O=new h(a(this.node),"reverse-document-order");break;case"following-sibling":O=new h(k(this.node),"document-order");break;case"preceding-sibling":O=new h(m(this.node),"reverse-document-order");break;case"following":O=new h(r(this.node),"document-order");break;case"preceding":O=new h(e(this.node),"reverse-document-order");break;case"attribute":O=new h(nodeAttribute(this.node),"document-order");break;case"namespace":O=new h(nodeNamespace.call(this,this.node),"document-order");break;case"self":O=new h([this.node],"document-order");break;case"descendant-or-self":I=l(this.node);I.unshift(this.node);O=new h(I,"document-order");break;case"ancestor-or-self":I=a(this.node);I.unshift(this.node);O=new h(I,"reverse-document-order");break;default:throw new Error("Axis type not supported: "+M);break}switch(N.type){case"nodeType":if(N.args[0]=="node"){break}for(Q=O.value.length-1;Q>=0;Q--){switch(N.args[0]){case"text":if(O.value[Q].nodeType!=3&&O.value[Q].nodeType!=4){O.value.splice(Q,1)}break;case"comment":if(O.value[Q].nodeType!=8){O.value.splice(Q,1)}break;case"processing-instruction":if(O.value[Q].nodeType!=7||(N.args[1].length>0&&q(this,N.args[1][0])!=O.value[Q].nodeName)){O.value.splice(Q,1)}break}}break;case"name":K=q(this,N);switch(M){case"attribute":P=2;break;case"namespace":P=13;break;default:P=1;break}for(Q=O.value.length-1;Q>=0;Q--){if(O.value[Q].nodeType!=P){O.value.splice(Q,1);continue}if(K.ns===null&&K.name===null){continue}J=nodeExpandedName.call(this,O.value[Q]);if(J===false||J.ns!==K.ns){O.value.splice(Q,1);continue}if(K.name!==null&&J.name.toLowerCase()!=K.name.toLowerCase()){O.value.splice(Q,1)}}break;default:throw new Error("NodeTest type not supported in step: "+N.type);break}return O},predicate:function(J,P,K){var N,O,Q,M,L,I;N=q(this,P);if(!N instanceof h){throw new Error('Expected "node-set", got: '+N.type)}switch(J){case"ancestor":case"ancestor-or-self":case"preceding":case"preceding-sibling":N.sortReverseDocumentOrder();break;default:N.sortDocumentOrder();break}for(M=0;M<K.length;M++){for(O=0,L=1,I=N.value.length;O<N.value.length;L++){Q=q(this.clone(N.value[O],L,I),K[M]);if(Q instanceof C){if(Q.value!=L){N.value.splice(O,1);continue}}else{if(!Q.toBoolean()){N.value.splice(O,1);continue}}O++}}return N},"function":function(I,Q){var K,R=[],S=function(T){return((T.ns!==null)?"{"+T.ns+"}":"{}")+T.name},P=function(T){var V,U=[],W;for(V=0;V<T.length;V++){W=(T[V].t===undefined)?"object":T[V].t;if(T[V].r!==false){if(T[V].rep===true){W+="+"}}else{if(T[V].rep===true){W+="*"}else{W+="?"}}U.push(W)}return"("+U.join(", ")+")"},L,O,M=0,N=[],J;K=q(this,I);if(K.ns===null){K.ns=""}if(!this.fns[K.ns]||!this.fns[K.ns][K.name]){throw new Error('Function "'+S(K)+'" does not exist.')}L=this.fns[K.ns][K.name];if(!L.args){L.args=[]}for(O=0,M=0;O<L.args.length;M++,O++){if(Q[M]===undefined){if(L.args[O].r!==false){throw new Error('Function "'+S(K)+'" expects '+P(L.args)+".")}}else{N.push((L.args[O].t===undefined)?"object":L.args[O].t)}if(L.args[O].rep===true){for(;M<Q.length;M++){N.push((L.args[O].t===undefined)?"object":L.args[O].t)}break}}if(N.length<Q.length){throw new Error('Function "'+S(K)+'" expects '+P(L.args)+".")}for(O=0;O<Q.length;O++){J=q(this,Q[O]);if(N[O]!=="object"&&!J.canConvertTo(N[O])){throw new Error('Function "'+S(K)+'" expects '+P(L.args)+'.Cannot convert "'+J.type+'" to "'+N[O]+'".')}R.push(J)}result=L.fn.apply(this,R);if(!result instanceof s){throw new Error('Function "'+S(K)+'" did not return a value that inherits from BaseType.')}else{if(L.ret!=="object"&&!result.canConvertTo(L.ret)){throw new Error('Function "'+S(K)+'" return "'+result.type+'" type that cannot be converted to "'+L.ret+'".')}}return result},"|":function(J,I){J=q(this,J);I=q(this,I);if(typeof J=="undefined"||typeof I=="undefined"||!J instanceof h||!I instanceof h){throw new Error('Unable to perform union on non-"node-set" types.')}J.append(I);return J},or:function(J,I){if(q(this,J).toBoolean()){return new F(true)}return new F(q(this,I).toBoolean())},and:function(J,I){if(q(this,J).toBoolean()){return new F(q(this,I).toBoolean())}return new F(false)},"=":function(J,I){return compareOperator.call(this,q(this,J),q(this,I),"=",function(L,K){return L==K})},"!=":function(J,I){return compareOperator.call(this,q(this,J),q(this,I),"!=",function(L,K){return L!=K})},"<=":function(J,I){return compareOperator.call(this,q(this,J),q(this,I),"<=",function(L,K){return L<=K})},"<":function(J,I){return compareOperator.call(this,q(this,J),q(this,I),"<",function(L,K){return L<K})},">=":function(J,I){return compareOperator.call(this,q(this,J),q(this,I),">=",function(L,K){return L>=K})},">":function(J,I){return compareOperator.call(this,q(this,J),q(this,I),">",function(L,K){return L>K})},"+":function(J,I){return new C(q(this,J).toNumber()+q(this,I).toNumber())},"-":function(J,I){return new C(q(this,J).toNumber()-q(this,I).toNumber())},div:function(J,I){return new C(q(this,J).toNumber()/q(this,I).toNumber())},mod:function(J,I){return new C(q(this,J).toNumber()%q(this,I).toNumber())},"*":function(J,I){return new C(q(this,J).toNumber()*q(this,I).toNumber())},string:function(I){return new B(I)},number:function(I){return new C(I)},"$":function(I){throw new Error("TODO: Not implemented.16")},name:function(K,I){var J=null;if(K!==null){J=this.nsMap[K];if(!J){throw new Error('Namespace prefix "'+K+'" is not mapped to a namespace.')}}return{ns:J,name:I}}};x={"":{last:{fn:function(){return new C(this.size)},ret:"number"},count:{fn:function(I){return new C(I.toNodeSet().length)},args:[{t:"node-set"}],ret:"number"},id:{fn:function(M){var K=this,I=[],O,N,L,J=[],Q,P=function(S){var R,T=S.split(/[\u0020\u0009\u000D\u000A]+/);for(R=T.length-1;R>=0;R--){if(T[R].length==0){T.splice(R,1)}}return T};if(M instanceof h){for(O=0;O<M.value.length;O++){I.push.apply(I,P(nodeStringValue(M.value[O])))}}else{M=M.toString();I=P(M)}for(O=I.length-1;O>=0;O--){for(N=O-1;N>=0;N--){if(I[O]==I[N]&&O!=N){I.splice(O,1);break}}}for(O=0;O<I.length;O++){L=z(this.node).getElementById(I[O]);if(L){if(nodeIdAttribute.call(this,L)){J.push(L);continue}}nodeAttributeSearch(z(this.node),true,function(R,T){var S=nodeIdAttribute.call(K,R,T);if(S&&S.nodeValue==I[O]){J.push(R);return true}})}return new h(J)},args:[{}],ret:"node-set"},"local-name":{fn:function(J){var K,I="";if(arguments.length==0){J=new h([this.node])}if(J.toNodeSet().length>0){J.sortDocumentOrder();K=nodeExpandedName.call(this,J.value[0]);if(K!==false){I=K.name}}return new B(I)},args:[{t:"node-set",r:false}],ret:"string"},"namespace-uri":{fn:function(I){var K,J="";if(arguments.length==0){I=new h([this.node])}if(I.toNodeSet().length>0){I.sortDocumentOrder();K=nodeExpandedName.call(this,I.value[0]);if(K!==false&&K.ns!==null){J=K.ns}}return new B(J)},args:[{t:"node-set",r:false}],ret:"string"},name:{fn:function(I){var K,J="";if(arguments.length==0){I=new h([this.node])}if(I.toNodeSet().length>0){I.sortDocumentOrder();K=nodeExpandedName.call(this,I.value[0]);if(K!==false){J=(K.prefix&&K.prefix.length>0)?K.prefix+":"+K.name:K.name}}return new B(J)},args:[{t:"node-set",r:false}],ret:"string"},string:{fn:function(I){if(arguments.length==0){I=new h([this.node],"document-order")}return new B(I.toString())},args:[{t:"object",r:false}],ret:"string"},"starts-with":{fn:function(I,J){return new F(I.toString().substr(0,(J=J.toString()).length)==J)},args:[{t:"string"},{t:"string"}],ret:"string"},contains:{fn:function(I,J){return new F(I.toString().indexOf(J=J.toString())!=-1)},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-before":{fn:function(I,J){I=I.toString();J=I.indexOf(J.toString());return new B(J==-1?"":I.substr(0,J))},args:[{t:"string"},{t:"string"}],ret:"string"},"substring-after":{fn:function(I,J){var K;I=I.toString();J=J.toString();K=I.indexOf(J);return new B(K==-1?"":I.substr(K+J.length))},args:[{t:"string"},{t:"string"}],ret:"string"},substring:{fn:function(J,K,I){J=J.toString();K=Math.round(K.toNumber())-1;return new B(isNaN(K)?"":((arguments.length==2)?J.substring(K<0?0:K):J.substring(K<0?0:K,K+Math.round(I.toNumber()))))},args:[{t:"string"},{t:"number"},{t:"number",r:false}],ret:"string"},"string-length":{fn:function(I){I=(arguments.length==0)?nodeStringValue(this.node):I.toString();return new C(I.length)},args:[{t:"string",r:false}],ret:"number"},"normalize-space":{fn:function(I){I=(arguments.length==0)?nodeStringValue(this.node):I.toString();return new B(I.replace(/^[\u0020\u0009\u000D\u000A]+/,"").replace(/[\u0020\u0009\u000D\u000A]+$/,"").replace(/[\u0020\u0009\u000D\u000A]+/g," "))},args:[{t:"string",r:false}],ret:"string"},translate:{fn:function(O,N,M){var J="",L,K,I;O=O.toString();N=N.toString();M=M.toString();for(L=0;L<O.length;L++){if((K=N.indexOf(I=O.charAt(L)))==-1||(I=M.charAt(K))){J+=I}}return new B(J)},args:[{t:"string"},{t:"string"},{t:"string"}],ret:"string"},"boolean":{fn:function(I){return new F(I.toBoolean())},args:[{r:true}],ret:"boolean"},not:{fn:function(I){return new F(!I.toBoolean())},args:[{t:"boolean"}],ret:"boolean"},"true":{fn:function(){return new F(true)},ret:"boolean"},"false":{fn:function(){return new F(false)},ret:"boolean"},lang:{fn:function(O){var I=this.node,M,P,R,Q=O.toString().toLowerCase().split("-"),J,N,L,K;for(;I.nodeType!=9;I=f(I)){M=nodeAttribute(I);for(N=0;N<M.length;N++){P=M[N].nodeName.split(":");if(P.length===1){P[1]=P[0];P[0]=""}if(P[1]=="lang"){R=M[N].nodeValue.toLowerCase().split("-");if(R.length<Q.length){continue}K=true;for(L=0;L<Q.length;L++){if(Q[L]!=R[L]){K=false;break}}if(K){J=nodeNamespace.call(this,I);for(L=0;L<J.length;L++){if(J[L].prefix==P[0]&&J[L].nodeValue==d){return new F(true)}}}}}}return new F(false)},args:[{t:"string"}],ret:"boolean"},number:{fn:function(I){if(arguments.length==0){I=new h([this.node],"document-order")}return new C(I.toNumber())},args:[{t:"object",r:false}],ret:"number"},sum:{fn:function(I){var J,K=0;I=I.toNodeSet();for(J=0;J<I.length;J++){K+=(new B(nodeStringValue(I[J]))).toNumber()}return new C(K)},args:[{t:"node-set"}],ret:"number"},floor:{fn:function(I){return new C(Math.floor(I))},args:[{t:"number"}],ret:"number"},ceiling:{fn:function(I){return new C(Math.ceil(I))},args:[{t:"number"}],ret:"number"},sum_jr:{fn:function(I){var J,K;sum=0;I=I.toNodeSet();for(J=0;J<I.length;J++){K=(nodeStringValue(I[J])=="")?"0":nodeStringValue(I[J]);sum+=(new B(K)).toNumber()}return new C(sum)},args:[{t:"node-set"}],ret:"number"},position:{fn:function(J){if(J){var K,L,I;J=J.toNodeSet();if(J.length===1){K=J[0];I=1;L=K.tagName;while(K.previousElementSibling&&K.previousElementSibling.tagName===L){K=K.previousElementSibling;I++}return new C(I)}else{throw new Error("nodeset provided to position() contained multiple nodes")}}return new C(this.pos)},args:[{t:"node-set",r:false}],ret:"number"},concat:{fn:function(K){var I,L,J="";for(I=0;I<arguments.length;I++){if(arguments[I] instanceof h){L=arguments[I].stringValues().join("")}else{L=arguments[I].toString()}J+=L}return new B(J)},args:[{t:"object",r:false,rep:true}],ret:"string"},round:{fn:function(J,I){I=Math.round(I)||0;return new C(Math.round(J*Math.pow(10,I))/Math.pow(10,I))},args:[{t:"number"},{t:"number",r:false}],ret:"number"},selected:{fn:function(K,L){var J,I;L=L.toString().trim();I=K.toString();return new F((" "+I+" ").indexOf(" "+L+" ")!=-1)},args:[{t:"object"},{t:"string"}],ret:"boolean"},"selected-at":{fn:function(L,I){var M,J,K;I=Math.round(I.toNumber());M=L.toString();J=M.split(" ");K=(I>=0&&I<J.length)?J[I]:"";return new B(K)},args:[{t:"object"},{t:"number"}],ret:"string"},"count-selected":{fn:function(J){var I=[];J=J.toNodeSet();if(J.length>0){I=nodeStringValue(J[0]).trim().split(" ");return(I.length==1&&I[0]==="")?new C(0):new C(I.length)}return new C(0)},args:[{t:"node-set"}],ret:"number"},checklist:{fn:function(M,I,J){var L,K,N=0;M=M.toNumber();I=I.toNumber();for(L=2;L<arguments.length;L++){if(arguments[L] instanceof h){for(K=0;K<arguments[L].stringValues().length;K++){if(arguments[L].stringValues()[K].toBoolean()===true){N++}}}else{if(arguments[L].toBoolean()===true){N++}}}return new F((M<0||N>=M)&&(I<0||N<=I))},args:[{t:"number"},{t:"number"},{t:"object"},{t:"object",r:false,rep:true}],ret:"boolean"},"weighted-checklist":{fn:function(J,M,I,N){var L,K,Q=[],O=[],P=0;J=J.toNumber();M=M.toNumber();for(L=2;L<arguments.length;L=L+2){v=arguments[L];w=arguments[L+1];if(v&&w){if(v instanceof h){Q=Q.concat(v.stringValues())}else{Q.push(v)}if(w instanceof h){O=O.concat(w.stringValues())}else{O.push(w)}}}for(L=0;L<Q.length;L++){if(Q[L].toBoolean()===true){P+=O[L].toNumber()}}return new F((J<0||P>=J)&&(M<0||P<=M))},args:[{t:"number"},{t:"number"},{t:"object"},{t:"object"},{t:"object",r:false,rep:true}],ret:"boolean"},"boolean-from-string":{fn:function(I){return new F(I.toString().toLowerCase()==="true"||String(I)==="1")},args:[{t:"string"}],ret:"boolean"},"if":{fn:function(K,J,I){return(K.toBoolean()?J:I)},args:[{t:"object"},{t:"object"},{t:"object"}],ret:"object"},date:{fn:function(I){return new DateType(I.toDate())},args:[{t:"object"}],ret:"string"},"date-time":{fn:function(I){return new DateType(I.toDate())},args:[{t:"object"}],ret:"string"},"decimal-date-time":{fn:function(I){return new DateType(I.toDate())},args:[{t:"object"}],ret:"string"},today:{fn:function(){var I=new Date();return new DateType(new Date(I.getFullYear(),I.getMonth(),I.getDate()))},ret:"string"},now:{fn:function(){return new DateType(new Date())},ret:"string"},regex:{fn:function(L,K){var J,I;J=L.toString();I=new RegExp(K);return new F(I.test(J))},args:[{t:"object"},{t:"string"}],ret:"boolean"},uuid:{fn:function(){var I="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(L){var K=Math.random()*16|0,J=L=="x"?K:(K&3|8);return J.toString(16)});return new B(I)},ret:"string"},"int":{fn:function(I){return new C(parseInt(I))},args:[{t:"number"}],ret:"number"},substr:{fn:function(J,K,I){J=J.toString();length=J.length;K=Math.round(K.toNumber());I=(I)?Math.round(I.toNumber()):length;return new B(isNaN(K)?"":J.substring(K<0?length+K:K,I<0?length+I:I))},args:[{t:"string"},{t:"number"},{t:"number",r:false}],ret:"string"},random:{fn:function(){return new C(Math.random().toFixed(15))},ret:"number"},min:{fn:function(M,L){var K,J,N,I;console.log("min args",arguments);for(K=0;K<arguments.length;K++){if(arguments[K] instanceof h){I=arguments[K].toNodeSet();for(K=0;K<I.length;K++){N=new B(nodeStringValue(I[K]));if(N&&N.toString()!==""){J=(J)?Math.min(J,N.toNumber()):N.toNumber()}}}else{N=new B(arguments[K].toString());if(N&&N.toString()!==""){J=(J)?Math.min(J,N.toNumber()):N.toNumber()}}}return new C(J)},args:[{t:"object"},{t:"object",r:false,rep:true}],ret:"number"},max:{fn:function(M,L){var K,I,N,J;for(K=0;K<arguments.length;K++){if(arguments[K] instanceof h){J=arguments[K].toNodeSet();for(K=0;K<J.length;K++){N=new B(nodeStringValue(J[K]));if(N&&N.toString()!==""){I=(I)?Math.max(I,N.toNumber()):N.toNumber()}}}else{N=new B(arguments[K].toString());if(N&&N.toString()!==""){I=(I)?Math.max(I,N.toNumber()):N.toNumber()}}}return new C(I)},args:[{t:"object"},{t:"object",r:false,rep:true}],ret:"number"},join:{fn:function(K,L){var J,I=[];for(J=1;J<arguments.length;J++){if(arguments[J] instanceof h){I=I.concat(arguments[J].stringValues())}else{I.push(arguments[J].toString())}}value=I[0]||"";for(J=1;J<I.length;J++){value+=K.toString()+I[J]}return new B(value)},args:[{t:"string"},{t:"object",r:false,rep:true}],ret:"string"},coalesce:{fn:function(J,I){return(J.toString().length>0)?J:I},args:[{t:"object"},{t:"object"}],ret:"string"},"format-date":{fn:function(J,O){var N,L,J=new DateType(J),K=J.toDate(),I=O.toString(),M=function(R,P){var S=R.toString(),Q=P-S.length;for(L=0;L<Q;L++){S="0"+S}return S};if(!J.toBoolean()){return new B(K.toString())}props={Y:K.getFullYear(),y:K.getFullYear().toString().substring(2,4),m:M((K.getMonth()+1),2),n:K.getMonth()+1,b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][K.getMonth()],d:M(K.getDate(),2),e:K.getDate(),H:M(K.getHours(),2),h:K.getHours(),M:M(K.getMinutes(),2),S:M(K.getSeconds(),2),"3":M(K.getMilliseconds(),3),a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][K.getDay()]};for(prop in props){I=I.replace("%"+prop,props[prop])}return new B(I)},args:[{t:"date"},{t:"string"}],ret:"string"},"format-date-time":{fn:function(J,O){var N,L,J=new DateType(J),K=J.toDate(),I=O.toString(),M=function(R,P){var S=R.toString(),Q=P-S.length;for(L=0;L<Q;L++){S="0"+S}return S};if(!J.toBoolean()){return new B(K.toString())}props={Y:K.getFullYear(),y:K.getFullYear().toString().substring(2,4),m:M((K.getMonth()+1),2),n:K.getMonth()+1,b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][K.getMonth()],d:M(K.getDate(),2),e:K.getDate(),H:M(K.getHours(),2),h:K.getHours(),M:M(K.getMinutes(),2),S:M(K.getSeconds(),2),"3":M(K.getMilliseconds(),3),a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][K.getDay()]};for(prop in props){I=I.replace("%"+prop,props[prop])}return new B(I)},args:[{t:"date"},{t:"string"}],ret:"string"},pow:{fn:function(J,I){return new C(Math.pow(J,I))},args:[{t:"number"},{t:"number"}],ret:"number"},version:{fn:function(){var J=(this.node.nodeName==="#document")?this.node.documentElement:this.node.ownerDocument.documentElement,I=J.attributes.version;if(I){return new B(I.textContent)}return new B("")},args:[],ret:"string"},once:{fn:function(I){var K=nodeStringValue(this.node),J=I.toString();J=(J==="NaN")?"":J;return(K!=="")?new B(K):new B(J)},args:[{t:"string"}],ret:"string"},area:{fn:function(Q){var J,I,O=[],L=[];if(Q instanceof h&&Q.value.length>1){Q.value.forEach(function(T){O.push(nodeStringValue(T))})}else{if(Q instanceof h){O=nodeStringValue(Q.value[0]).split(";")}else{if(Q instanceof B){O=Q.value.split(";")}}}L=O.map(function(T){return T.trim().split(" ")});I=L.every(function(T){return((T[0]!==""&&T[0]>=-90&&T[0]<=90)&&(T[1]!==""&&T[1]>=-180&&T[1]<=180)&&(typeof T[2]=="undefined"||!isNaN(T[2]))&&(typeof T[3]=="undefined"||(!isNaN(T[3])&&T[3]>=0)))});if(!I){J=Number.NaN}else{var K=6378100,P=L.length,M=Math.PI/180,S,R;J=0;if(P>2){for(var N=0;N<P;N++){S={lat:L[N][0],lng:L[N][1]};R={lat:L[(N+1)%P][0],lng:L[(N+1)%P][1]};J+=((R.lng-S.lng)*M)*(2+Math.sin(S.lat*M)+Math.sin(R.lat*M))}J=J*K*K/2}J=Math.abs(Math.round(J*100))/100}return new C(J)},args:[{t:"string"}],ret:"number"}}};q=function(J,I){if(typeof G[I.type]!="function"){throw new Error("Internal Error: Expression type does not exist: "+I.type)}return G[I.type].apply(J,I.args)};u=function(I,J,K){switch(J){case u.NUMBER_TYPE:this.resultType=u.NUMBER_TYPE;this.numberValue=K.toNumber();break;case u.STRING_TYPE:this.resultType=u.STRING_TYPE;this.stringValue=K.toString();break;case u.BOOLEAN_TYPE:this.resultType=u.BOOLEAN_TYPE;this.booleanValue=K.toBoolean();break;case u.UNORDERED_NODE_ITERATOR_TYPE:case u.ORDERED_NODE_ITERATOR_TYPE:case u.UNORDERED_NODE_SNAPSHOT_TYPE:case u.ORDERED_NODE_SNAPSHOT_TYPE:case u.ANY_UNORDERED_NODE_TYPE:case u.FIRST_ORDERED_NODE_TYPE:if(!K instanceof h){throw new Error('Expected result of type "node-set", got: "'+K.type+'"')}this.resultType=J;switch(J){case u.UNORDERED_NODE_ITERATOR_TYPE:case u.UNORDERED_NODE_SNAPSHOT_TYPE:this._value=K.toNodeSet();this.snapshotLength=this._value.length;break;case u.ORDERED_NODE_ITERATOR_TYPE:case u.ORDERED_NODE_SNAPSHOT_TYPE:K.sortDocumentOrder();this._value=K.toNodeSet();this.snapshotLength=this._value.length;break;case u.ANY_UNORDERED_NODE_TYPE:K=K.toNodeSet();this.singleNodeValue=(K.length)?K[0]:null;break;case u.FIRST_ORDERED_NODE_TYPE:K.sortDocumentOrder();K=K.toNodeSet();this.singleNodeValue=(K.length)?K[0]:null;break;default:throw new A(A.TYPE_ERR,"XPath result type not supported. (type: "+J+")");break}break;default:throw new A(A.TYPE_ERR,"XPath result type not supported. (type: "+J+")");break}};u.factory=function(J,K,L){var I;if(K!==u.ANY_TYPE){return new u(J,K,L)}if(L instanceof h){I=new u(J,u.UNORDERED_NODE_ITERATOR_TYPE,L)}else{if(L instanceof C){I=new u(J,u.NUMBER_TYPE,L)}else{if(L instanceof F){I=new u(J,u.BOOLEAN_TYPE,L)}else{if(L instanceof B){I=new u(J,u.STRING_TYPE,L)}else{throw new A(A.TYPE_ERR,"Internal Error: Unsupported value type: "+typeof L)}}}}return I};u.prototype={resultType:null,numberValue:null,stringValue:null,booleanValue:null,singleNodeValue:null,invalidIteratorState:null,snapshotLength:null,_iteratorIndex:0,iterateNext:function(){if(this.resultType!=u.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=u.ORDERED_NODE_ITERATOR_TYPE){throw new A(A.TYPE_ERR,"iterateNext() method may only be used with results of type UNORDERED_NODE_ITERATOR_TYPE or ORDERED_NODE_ITERATOR_TYPE")}if(this._iteratorIndex<this._value.length){return this._value[this._iteratorIndex++]}return null},snapshotItem:function(I){if(this.resultType!=u.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=u.ORDERED_NODE_SNAPSHOT_TYPE){throw new A(A.TYPE_ERR,"snapshotItem() method may only be used with results of type UNORDERED_NODE_SNAPSHOT_TYPE or ORDERED_NODE_SNAPSHOT_TYPE")}return this._value[I]}};u.ANY_TYPE=0;u.NUMBER_TYPE=1;u.STRING_TYPE=2;u.BOOLEAN_TYPE=3;u.UNORDERED_NODE_ITERATOR_TYPE=4;u.ORDERED_NODE_ITERATOR_TYPE=5;u.UNORDERED_NODE_SNAPSHOT_TYPE=6;u.ORDERED_NODE_SNAPSHOT_TYPE=7;u.ANY_UNORDERED_NODE_TYPE=8;u.FIRST_ORDERED_NODE_TYPE=9;D=function(K,I,J){if(J.nodeType!=1){throw new Error("Internal Error: XPathNamespace owner element must be an Element node.")}this.ownerElement=J;this.ownerDocument=J.ownerDocument;this.nodeName="#namespace";this.prefix=K;this.localName=K;this.nodeType=D.XPATH_NAMESPACE_NODE;this.namespaceURI=I;this.nodeValue=I};D.XPATH_NAMESPACE_NODE=13;c={XPathException:A,XPathEvaluator:t,XPathNSResolver:b,XPathExpression:o,XPathResult:u,XPathNamespace:D,getCurrentDomLevel3XPathBindings:function(){return{window:{XPathException:window.XPathException,XPathExpression:window.XPathExpression,XPathNSResolver:window.XPathNSResolver,XPathResult:window.XPathResult,XPathNamespace:window.XPathNamespace},document:{createExpression:document.createExpression,createNSResolver:document.createNSResolver,evaluate:document.evaluate}}},createDomLevel3XPathBindings:function(I){var J=new t(I);return{window:{XPathException:A,XPathExpression:o,XPathNSResolver:b,XPathResult:u,XPathNamespace:D},document:{createExpression:function(){return J.createExpression.apply(J,arguments)},createNSResolver:function(){return J.createNSResolver.apply(J,arguments)},evaluate:function(){return J.evaluate.apply(J,arguments)}}}},bindDomLevel3XPath:function(L,M){var J=(M||c.createDomLevel3XPathBindings()),K=c.getCurrentDomLevel3XPathBindings(),L=L||document,I;for(I in J.window){window[I]=J.window[I]}for(I in J.document){L[I]=J.document[I]}return K}};return c})();XPathJS._parser=(function(){function c(f,d){function e(){this.constructor=f}e.prototype=d.prototype;f.prototype=new e()}function a(g,f,h,j,d,e){this.message=g;this.expected=f;this.found=h;this.offset=j;this.line=d;this.column=e;this.name="SyntaxError"}c(a,Error);function b(bo){var ce=arguments.length>1?arguments[1]:{},aH={},p={XPath:bH},b9=bH,aB=aH,az=function(dp){return{tree:dp,nsPrefixes:a4}},ay="/",ax={type:"literal",value:"/",description:'"/"'},av=null,at=function(dp){return{type:"/",args:[null,(dp)?dp[1]:null]}},ar=[],aq="//",ap={type:"literal",value:"//",description:'"//"'},ao=function(dq,dr){var dp;for(dp=0;dp<dr.length;dp++){dq=I(dr[dp][1],dq,dr[dp][3])}return dq},cQ=function(dq,dr,dp){return bX({type:"step",args:[dq,dr]},dq,dp,1)},cO="::",cK={type:"literal",value:"::",description:'"::"'},cI=function(dp){return dp},cG=function(dp){return(dp.length)?dp:"child"},cE="ancestor-or-self",cC={type:"literal",value:"ancestor-or-self",description:'"ancestor-or-self"'},cA="ancestor",cy={type:"literal",value:"ancestor",description:'"ancestor"'},cw="attribute",ct={type:"literal",value:"attribute",description:'"attribute"'},cq="child",co={type:"literal",value:"child",description:'"child"'},cm="descendant-or-self",ck={type:"literal",value:"descendant-or-self",description:'"descendant-or-self"'},ci="descendant",ch={type:"literal",value:"descendant",description:'"descendant"'},cg="following-sibling",cf={type:"literal",value:"following-sibling",description:'"following-sibling"'},cd="following",ca={type:"literal",value:"following",description:'"following"'},b8="namespace",b7={type:"literal",value:"namespace",description:'"namespace"'},b6="parent",b5={type:"literal",value:"parent",description:'"parent"'},b3="preceding-sibling",b2={type:"literal",value:"preceding-sibling",description:'"preceding-sibling"'},b1="preceding",b0={type:"literal",value:"preceding",description:'"preceding"'},bY="self",bU={type:"literal",value:"self",description:'"self"'},bT="(",bS={type:"literal",value:"(",description:'"("'},bR=")",bP={type:"literal",value:")",description:'")"'},bO=function(dp){return{type:"nodeType",args:[dp,[]]}},bN="processing-instruction",bM={type:"literal",value:"processing-instruction",description:'"processing-instruction"'},bL=function(dq,dp){return{type:"nodeType",args:[dq,[dp]]}},bK=function(dp){return dp},bC="[",bA={type:"literal",value:"[",description:'"["'},bz="]",bx={type:"literal",value:"]",description:'"]"'},bv=function(dp){return dp},bu=function(dp){return I("//",null,dp)},bt="..",bs={type:"literal",value:"..",description:'".."'},bq=".",bp={type:"literal",value:".",description:'"."'},bj=function(dq){var dp={type:"step",args:["self",{type:"nodeType",args:["node",[]]}]};if(dq==".."){dp.args[0]="parent"}return dp},bi="@",bh={type:"literal",value:"@",description:'"@"'},bf=function(dp){return(dp)?"attribute":""},be=function(dp){return dp},bd=function(dp){return dp},bb=function(dp){return dp},ba=",",a9={type:"literal",value:",",description:'","'},a8=function(dr,dp){var ds,dq=[];if(dp){dq.push(dp[1]);for(ds=0;ds<dp[2].length;ds++){dq.push(dp[2][ds][3])}}return{type:"function",args:[dr,dq]}},aZ="|",aX={type:"literal",value:"|",description:'"|"'},aV=function(dp,dq){return bV(dp,dq,1,3)},aU=function(dq,dp){if(!dp){return dq}return I(dp[1],dq,dp[3])},aT=function(dp){return dp},aR=function(dp,dq){return bX(dp,"child",dq,1)},aQ="or",aP={type:"literal",value:"or",description:'"or"'},aO="and",aN={type:"literal",value:"and",description:'"and"'},an="=",al={type:"literal",value:"=",description:'"="'},ak="!=",aj={type:"literal",value:"!=",description:'"!="'},ai="<=",ah={type:"literal",value:"<=",description:'"<="'},ag="<",af={type:"literal",value:"<",description:'"<"'},ae=">=",ad={type:"literal",value:">=",description:'">="'},P=">",O={type:"literal",value:">",description:'">"'},N="+",M={type:"literal",value:"+",description:'"+"'},L="-",K={type:"literal",value:"-",description:'"-"'},H="div",G={type:"literal",value:"div",description:'"div"'},F="mod",E={type:"literal",value:"mod",description:'"mod"'},aM=function(dp){return{type:"*",args:[{type:"number",args:[-1]},dp]}},aL='"',aK={type:"literal",value:'"',description:'"\\""'},aJ=/^[^"]/,aI={type:"class",value:'[^"]',description:'[^"]'},aG=function(dp){return{type:"string",args:[dp.join("")]}},aF="'",aE={type:"literal",value:"'",description:'"\'"'},aD=/^[^']/,aC={type:"class",value:"[^']",description:"[^']"},ac=function(dq,dp){return{type:"number",args:[(dp)?parseFloat(dq+"."+dp[1]):parseInt(dq)]}},ab=function(dp){return{type:"number",args:[parseFloat("."+dp)]}},aa=/^[0-9]/,Y={type:"class",value:"[0-9]",description:"[0-9]"},X=function(dp){return dp.join("")},W="*",V={type:"literal",value:"*",description:'"*"'},U=function(dp){var dq;if(aA.args[0]===null){for(dq=0;dq<cb.length;dq++){if(aA.args[1]==cb[dq]){return false}}}return true},T=void 0,R=function(dp){(dp.args[0]==="")?dp={type:dp.type,args:[null,dp.args[1]]}:aw(dp.args[0]);return dp},D="$",C={type:"literal",value:"$",description:'"$"'},B=function(dp){aw(dp.args[0]);return{type:"$",args:[dp]}},A=function(){return{type:"name",args:[null,null]}},z=":",x={type:"literal",value:":",description:'":"'},u=function(dp){aw(dp);return{type:"name",args:[dp,null]}},s=function(dp){aw(dp.args[0]);return dp},r="comment",q={type:"literal",value:"comment",description:'"comment"'},n="text",m={type:"literal",value:"text",description:'"text"'},l="node",k={type:"literal",value:"node",description:'"node"'},j=/^[ \t\r\n]/,h={type:"class",value:"[ \\t\\r\\n]",description:"[ \\t\\r\\n]"},g=function(dp){aA=dp;return dp},f=function(dq,dp){return{type:"name",args:[dq,dp]}},e=function(dp){return{type:"name",args:[null,dp]}},dn=/^[A-Z]/,dk={type:"class",value:"[A-Z]",description:"[A-Z]"},dj="_",di={type:"literal",value:"_",description:'"_"'},dh=/^[a-z]/,dg={type:"class",value:"[a-z]",description:"[a-z]"},df=/^[\xC0-\xD6]/,dd={type:"class",value:"[\\xC0-\\xD6]",description:"[\\xC0-\\xD6]"},dc=/^[\xD8-\xF6]/,db={type:"class",value:"[\\xD8-\\xF6]",description:"[\\xD8-\\xF6]"},da=/^[\xF8-\u02FF]/,c3={type:"class",value:"[\\xF8-\\u02FF]",description:"[\\xF8-\\u02FF]"},c2=/^[\u0370-\u037D]/,c1={type:"class",value:"[\\u0370-\\u037D]",description:"[\\u0370-\\u037D]"},c0=/^[\u037F-\u1FFF]/,cZ={type:"class",value:"[\\u037F-\\u1FFF]",description:"[\\u037F-\\u1FFF]"},cY=/^[\u200C-\u200D]/,cX={type:"class",value:"[\\u200C-\\u200D]",description:"[\\u200C-\\u200D]"},cW=/^[\u2070-\u218F]/,cV={type:"class",value:"[\\u2070-\\u218F]",description:"[\\u2070-\\u218F]"},cU=/^[\u2C00-\u2FEF]/,cP={type:"class",value:"[\\u2C00-\\u2FEF]",description:"[\\u2C00-\\u2FEF]"},cN=/^[\u3001-\uD7FF]/,cJ={type:"class",value:"[\\u3001-\\uD7FF]",description:"[\\u3001-\\uD7FF]"},cH=/^[\uF900-\uFDCF]/,cF={type:"class",value:"[\\uF900-\\uFDCF]",description:"[\\uF900-\\uFDCF]"},cD=/^[\uFDF0-\uFFFD]/,cB={type:"class",value:"[\\uFDF0-\\uFFFD]",description:"[\\uFDF0-\\uFFFD]"},cz=/^[\xB7]/,cx={type:"class",value:"[\\xB7]",description:"[\\xB7]"},cv=/^[\u0300-\u036F]/,cs={type:"class",value:"[\\u0300-\\u036F]",description:"[\\u0300-\\u036F]"},cp=/^[\u203F-\u2040]/,cn={type:"class",value:"[\\u203F-\\u2040]",description:"[\\u203F-\\u2040]"},cl=function(dp,dq){return dp+dq.join("")},bI=0,dm=0,cT=0,au={line:1,column:1,seenCR:false},a3=0,a6=[],cS=0,bm;if("startRule" in ce){if(!(ce.startRule in p)){throw new Error("Can't start parsing from rule \""+ce.startRule+'".')}b9=p[ce.startRule]}function cr(){return bo.substring(dm,bI)}function c9(){return dm}function cM(){return J(dm).line}function de(){return J(dm).column}function dl(dp){throw c8(null,[{type:"other",description:dp}],dm)}function c7(dp){throw c8(dp,null,dm)}function J(dq){function dp(dt,ds,dr){var dv,du;for(dv=ds;dv<dr;dv++){du=bo.charAt(dv);if(du==="\n"){if(!dt.seenCR){dt.line++}dt.column=1;dt.seenCR=false}else{if(du==="\r"||du==="\u2028"||du==="\u2029"){dt.line++;dt.column=1;dt.seenCR=true}else{dt.column++;dt.seenCR=false}}}}if(cT!==dq){if(cT>dq){cT=0;au={line:1,column:1,seenCR:false}}dp(au,cT,dq);cT=dq}return au}function cu(dp){if(bI<a3){return}if(bI>a3){a3=bI;a6=[]}a6.push(dp)}function c8(dr,dq,dv){function du(dx){var dw=1;dx.sort(function(dz,dy){if(dz.description<dy.description){return -1}else{if(dz.description>dy.description){return 1}else{return 0}}});while(dw<dx.length){if(dx[dw-1]===dx[dw]){dx.splice(dw,1)}else{dw++}}}function dp(dA,dB){function dw(dD){function dE(dF){return dF.charCodeAt(0).toString(16).toUpperCase()}return dD.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(dF){return"\\x0"+dE(dF)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(dF){return"\\x"+dE(dF)}).replace(/[\u0180-\u0FFF]/g,function(dF){return"\\u0"+dE(dF)}).replace(/[\u1080-\uFFFF]/g,function(dF){return"\\u"+dE(dF)})}var dx=new Array(dA.length),dC,dy,dz;for(dz=0;dz<dA.length;dz++){dx[dz]=dA[dz].description}dC=dA.length>1?dx.slice(0,-1).join(", ")+" or "+dx[dA.length-1]:dx[0];dy=dB?'"'+dw(dB)+'"':"end of input";return"Expected "+dC+" but "+dy+" found."}var dt=J(dv),ds=dv<bo.length?bo.charAt(dv):null;if(dq!==null){du(dq)}return new a(dr!==null?dr:dp(dq,ds),dq,ds,dv,dt.line,dt.column)}function bH(){var ds,dr,dq,dp;ds=bI;dr=bB();if(dr!==aH){dq=bn();if(dq!==aH){dp=bB();if(dp!==aH){dm=ds;dr=az(dq);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}return ds}function bc(){var dp;dp=cc();if(dp===aH){dp=aW()}return dp}function aW(){var dt,ds,dr,dq,dp;dt=a0();if(dt===aH){dt=bI;if(bo.charCodeAt(bI)===47){ds=ay;bI++}else{ds=aH;if(cS===0){cu(ax)}}if(ds!==aH){dr=bI;dq=bB();if(dq!==aH){dp=cc();if(dp!==aH){dq=[dq,dp];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}if(dr===aH){dr=av}if(dr!==aH){dm=dt;ds=at(dr);dt=ds}else{bI=dt;dt=aB}}else{bI=dt;dt=aB}}return dt}function cc(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=bl();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,2)===aq){dp=aq;bI+=2}else{dp=aH;if(cS===0){cu(ap)}}if(dp===aH){if(bo.charCodeAt(bI)===47){dp=ay;bI++}else{dp=aH;if(cS===0){cu(ax)}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bl();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,2)===aq){dp=aq;bI+=2}else{dp=aH;if(cS===0){cu(ap)}}if(dp===aH){if(bo.charCodeAt(bI)===47){dp=ay;bI++}else{dp=aH;if(cS===0){cu(ax)}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bl();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=ao(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function bl(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=a2();if(dt!==aH){ds=bB();if(ds!==aH){dr=cL();if(dr!==aH){dq=[];dp=bI;dw=bB();if(dw!==aH){dv=bF();if(dv!==aH){dw=[dw,dv];dp=dw}else{bI=dp;dp=aB}}else{bI=dp;dp=aB}while(dp!==aH){dq.push(dp);dp=bI;dw=bB();if(dw!==aH){dv=bF();if(dv!==aH){dw=[dw,dv];dp=dw}else{bI=dp;dp=aB}}else{bI=dp;dp=aB}}if(dq!==aH){dm=du;dt=cQ(dt,dr,dq);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}if(du===aH){du=bQ()}return du}function a2(){var ds,dr,dq,dp;ds=bI;dr=aS();if(dr!==aH){dq=bB();if(dq!==aH){if(bo.substr(bI,2)===cO){dp=cO;bI+=2}else{dp=aH;if(cS===0){cu(cK)}}if(dp!==aH){dm=ds;dr=cI(dr);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}if(ds===aH){ds=bI;dr=S();if(dr!==aH){dm=ds;dr=cG(dr)}ds=dr}return ds}function aS(){var dp;if(bo.substr(bI,16)===cE){dp=cE;bI+=16}else{dp=aH;if(cS===0){cu(cC)}}if(dp===aH){if(bo.substr(bI,8)===cA){dp=cA;bI+=8}else{dp=aH;if(cS===0){cu(cy)}}if(dp===aH){if(bo.substr(bI,9)===cw){dp=cw;bI+=9}else{dp=aH;if(cS===0){cu(ct)}}if(dp===aH){if(bo.substr(bI,5)===cq){dp=cq;bI+=5}else{dp=aH;if(cS===0){cu(co)}}if(dp===aH){if(bo.substr(bI,18)===cm){dp=cm;bI+=18}else{dp=aH;if(cS===0){cu(ck)}}if(dp===aH){if(bo.substr(bI,10)===ci){dp=ci;bI+=10}else{dp=aH;if(cS===0){cu(ch)}}if(dp===aH){if(bo.substr(bI,17)===cg){dp=cg;bI+=17}else{dp=aH;if(cS===0){cu(cf)}}if(dp===aH){if(bo.substr(bI,9)===cd){dp=cd;bI+=9}else{dp=aH;if(cS===0){cu(ca)}}if(dp===aH){if(bo.substr(bI,9)===b8){dp=b8;bI+=9}else{dp=aH;if(cS===0){cu(b7)}}if(dp===aH){if(bo.substr(bI,6)===b6){dp=b6;bI+=6}else{dp=aH;if(cS===0){cu(b5)}}if(dp===aH){if(bo.substr(bI,17)===b3){dp=b3;bI+=17}else{dp=aH;if(cS===0){cu(b2)}}if(dp===aH){if(bo.substr(bI,9)===b1){dp=b1;bI+=9}else{dp=aH;if(cS===0){cu(b0)}}if(dp===aH){if(bo.substr(bI,4)===bY){dp=bY;bI+=4}else{dp=aH;if(cS===0){cu(bU)}}}}}}}}}}}}}}return dp}function cL(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=c5();if(dt!==aH){ds=bB();if(ds!==aH){if(bo.charCodeAt(bI)===40){dr=bT;bI++}else{dr=aH;if(cS===0){cu(bS)}}if(dr!==aH){dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===41){dp=bR;bI++}else{dp=aH;if(cS===0){cu(bP)}}if(dp!==aH){dm=du;dt=bO(dt);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}if(du===aH){du=bI;if(bo.substr(bI,22)===bN){dt=bN;bI+=22}else{dt=aH;if(cS===0){cu(bM)}}if(dt!==aH){ds=bB();if(ds!==aH){if(bo.charCodeAt(bI)===40){dr=bT;bI++}else{dr=aH;if(cS===0){cu(bS)}}if(dr!==aH){dq=bB();if(dq!==aH){dp=bZ();if(dp!==aH){dw=bB();if(dw!==aH){if(bo.charCodeAt(bI)===41){dv=bR;bI++}else{dv=aH;if(cS===0){cu(bP)}}if(dv!==aH){dm=du;dt=bL(dt,dp);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}if(du===aH){du=bI;dt=br();if(dt!==aH){dm=du;dt=bK(dt)}du=dt}}return du}function bF(){var du,dt,ds,dr,dq,dp;du=bI;if(bo.charCodeAt(bI)===91){dt=bC;bI++}else{dt=aH;if(cS===0){cu(bA)}}if(dt!==aH){ds=bB();if(ds!==aH){dr=bn();if(dr!==aH){dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===93){dp=bz;bI++}else{dp=aH;if(cS===0){cu(bx)}}if(dp!==aH){dm=du;dt=bv(dr);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function a0(){var ds,dr,dq,dp;ds=bI;if(bo.substr(bI,2)===aq){dr=aq;bI+=2}else{dr=aH;if(cS===0){cu(ap)}}if(dr!==aH){dq=bB();if(dq!==aH){dp=cc();if(dp!==aH){dm=ds;dr=bu(dp);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}return ds}function bQ(){var dq,dp;dq=bI;if(bo.substr(bI,2)===bt){dp=bt;bI+=2}else{dp=aH;if(cS===0){cu(bs)}}if(dp===aH){if(bo.charCodeAt(bI)===46){dp=bq;bI++}else{dp=aH;if(cS===0){cu(bp)}}}if(dp!==aH){dm=dq;dp=bj(dp)}dq=dp;return dq}function S(){var dq,dp;dq=bI;if(bo.charCodeAt(bI)===64){dp=bi;bI++}else{dp=aH;if(cS===0){cu(bh)}}if(dp===aH){dp=av}if(dp!==aH){dm=dq;dp=bf(dp)}dq=dp;return dq}function bn(){var dq,dp;dq=bI;dp=am();if(dp!==aH){dm=dq;dp=bv(dp)}dq=dp;return dq}function c6(){var du,dt,ds,dr,dq,dp;du=bI;dt=y();if(dt!==aH){dm=du;dt=be(dt)}du=dt;if(du===aH){du=bI;if(bo.charCodeAt(bI)===40){dt=bT;bI++}else{dt=aH;if(cS===0){cu(bS)}}if(dt!==aH){ds=bB();if(ds!==aH){dr=bn();if(dr!==aH){dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===41){dp=bR;bI++}else{dp=aH;if(cS===0){cu(bP)}}if(dp!==aH){dm=du;dt=bv(dr);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}if(du===aH){du=bI;dt=bZ();if(dt!==aH){dm=du;dt=bd(dt)}du=dt;if(du===aH){du=bI;dt=c4();if(dt!==aH){dm=du;dt=bb(dt)}du=dt;if(du===aH){du=d()}}}}return du}function d(){var dB,dA,dy,dw,du,dt,ds,dr,dq,dp,dz,dx,dv;dB=bI;dA=a1();if(dA!==aH){dy=bB();if(dy!==aH){if(bo.charCodeAt(bI)===40){dw=bT;bI++}else{dw=aH;if(cS===0){cu(bS)}}if(dw!==aH){du=bI;dt=bB();if(dt!==aH){ds=bn();if(ds!==aH){dr=[];dq=bI;dp=bB();if(dp!==aH){if(bo.charCodeAt(bI)===44){dz=ba;bI++}else{dz=aH;if(cS===0){cu(a9)}}if(dz!==aH){dx=bB();if(dx!==aH){dv=bn();if(dv!==aH){dp=[dp,dz,dx,dv];dq=dp}else{bI=dq;dq=aB}}else{bI=dq;dq=aB}}else{bI=dq;dq=aB}}else{bI=dq;dq=aB}while(dq!==aH){dr.push(dq);dq=bI;dp=bB();if(dp!==aH){if(bo.charCodeAt(bI)===44){dz=ba;bI++}else{dz=aH;if(cS===0){cu(a9)}}if(dz!==aH){dx=bB();if(dx!==aH){dv=bn();if(dv!==aH){dp=[dp,dz,dx,dv];dq=dp}else{bI=dq;dq=aB}}else{bI=dq;dq=aB}}else{bI=dq;dq=aB}}else{bI=dq;dq=aB}}if(dr!==aH){dt=[dt,ds,dr];du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}}else{bI=du;du=aB}if(du===aH){du=av}if(du!==aH){dt=bB();if(dt!==aH){if(bo.charCodeAt(bI)===41){ds=bR;bI++}else{ds=aH;if(cS===0){cu(bP)}}if(ds!==aH){dm=dB;dA=a8(dA,du);dB=dA}else{bI=dB;dB=aB}}else{bI=dB;dB=aB}}else{bI=dB;dB=aB}}else{bI=dB;dB=aB}}else{bI=dB;dB=aB}}else{bI=dB;dB=aB}return dB}function a7(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=aY();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===124){dp=aZ;bI++}else{dp=aH;if(cS===0){cu(aX)}}if(dp!==aH){dw=bB();if(dw!==aH){dv=aY();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===124){dp=aZ;bI++}else{dp=aH;if(cS===0){cu(aX)}}if(dp!==aH){dw=bB();if(dw!==aH){dv=aY();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aV(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function aY(){var du,dt,ds,dr,dq,dp,dv;du=bI;dt=t();if(dt!==aH){ds=bI;dr=bB();if(dr!==aH){if(bo.substr(bI,2)===aq){dq=aq;bI+=2}else{dq=aH;if(cS===0){cu(ap)}}if(dq===aH){if(bo.charCodeAt(bI)===47){dq=ay;bI++}else{dq=aH;if(cS===0){cu(ax)}}}if(dq!==aH){dp=bB();if(dp!==aH){dv=cc();if(dv!==aH){dr=[dr,dq,dp,dv];ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}if(ds===aH){ds=av}if(ds!==aH){dm=du;dt=aU(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}if(du===aH){du=bI;dt=bc();if(dt!==aH){dm=du;dt=aT(dt)}du=dt}return du}function t(){var du,dt,ds,dr,dq,dp;du=bI;dt=c6();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){dp=bF();if(dp!==aH){dq=[dq,dp];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){dp=bF();if(dp!==aH){dq=[dq,dp];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aR(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function am(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=bD();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,2)===aQ){dp=aQ;bI+=2}else{dp=aH;if(cS===0){cu(aP)}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bD();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,2)===aQ){dp=aQ;bI+=2}else{dp=aH;if(cS===0){cu(aP)}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bD();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aV(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function bD(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=bG();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,3)===aO){dp=aO;bI+=3}else{dp=aH;if(cS===0){cu(aN)}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bG();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,3)===aO){dp=aO;bI+=3}else{dp=aH;if(cS===0){cu(aN)}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bG();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aV(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function bG(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=bw();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===61){dp=an;bI++}else{dp=aH;if(cS===0){cu(al)}}if(dp===aH){if(bo.substr(bI,2)===ak){dp=ak;bI+=2}else{dp=aH;if(cS===0){cu(aj)}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bw();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===61){dp=an;bI++}else{dp=aH;if(cS===0){cu(al)}}if(dp===aH){if(bo.substr(bI,2)===ak){dp=ak;bI+=2}else{dp=aH;if(cS===0){cu(aj)}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bw();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aV(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function bw(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=bk();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,2)===ai){dp=ai;bI+=2}else{dp=aH;if(cS===0){cu(ah)}}if(dp===aH){if(bo.charCodeAt(bI)===60){dp=ag;bI++}else{dp=aH;if(cS===0){cu(af)}}if(dp===aH){if(bo.substr(bI,2)===ae){dp=ae;bI+=2}else{dp=aH;if(cS===0){cu(ad)}}if(dp===aH){if(bo.charCodeAt(bI)===62){dp=P;bI++}else{dp=aH;if(cS===0){cu(O)}}}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bk();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){if(bo.substr(bI,2)===ai){dp=ai;bI+=2}else{dp=aH;if(cS===0){cu(ah)}}if(dp===aH){if(bo.charCodeAt(bI)===60){dp=ag;bI++}else{dp=aH;if(cS===0){cu(af)}}if(dp===aH){if(bo.substr(bI,2)===ae){dp=ae;bI+=2}else{dp=aH;if(cS===0){cu(ad)}}if(dp===aH){if(bo.charCodeAt(bI)===62){dp=P;bI++}else{dp=aH;if(cS===0){cu(O)}}}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=bk();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aV(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function bk(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=by();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===43){dp=N;bI++}else{dp=aH;if(cS===0){cu(M)}}if(dp===aH){if(bo.charCodeAt(bI)===45){dp=L;bI++}else{dp=aH;if(cS===0){cu(K)}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=by();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){if(bo.charCodeAt(bI)===43){dp=N;bI++}else{dp=aH;if(cS===0){cu(M)}}if(dp===aH){if(bo.charCodeAt(bI)===45){dp=L;bI++}else{dp=aH;if(cS===0){cu(K)}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=by();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aV(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function by(){var du,dt,ds,dr,dq,dp,dw,dv;du=bI;dt=Z();if(dt!==aH){ds=[];dr=bI;dq=bB();if(dq!==aH){dp=bJ();if(dp===aH){if(bo.substr(bI,3)===H){dp=H;bI+=3}else{dp=aH;if(cS===0){cu(G)}}if(dp===aH){if(bo.substr(bI,3)===F){dp=F;bI+=3}else{dp=aH;if(cS===0){cu(E)}}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=Z();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}while(dr!==aH){ds.push(dr);dr=bI;dq=bB();if(dq!==aH){dp=bJ();if(dp===aH){if(bo.substr(bI,3)===H){dp=H;bI+=3}else{dp=aH;if(cS===0){cu(G)}}if(dp===aH){if(bo.substr(bI,3)===F){dp=F;bI+=3}else{dp=aH;if(cS===0){cu(E)}}}}if(dp!==aH){dw=bB();if(dw!==aH){dv=Z();if(dv!==aH){dq=[dq,dp,dw,dv];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}}if(ds!==aH){dm=du;dt=aV(dt,ds);du=dt}else{bI=du;du=aB}}else{bI=du;du=aB}return du}function Z(){var ds,dr,dq,dp;ds=bI;dr=a7();if(dr!==aH){dm=ds;dr=bv(dr)}ds=dr;if(ds===aH){ds=bI;if(bo.charCodeAt(bI)===45){dr=L;bI++}else{dr=aH;if(cS===0){cu(K)}}if(dr!==aH){dq=bB();if(dq!==aH){dp=Z();if(dp!==aH){dm=ds;dr=aM(dp);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}return ds}function bZ(){var ds,dr,dq,dp;ds=bI;if(bo.charCodeAt(bI)===34){dr=aL;bI++}else{dr=aH;if(cS===0){cu(aK)}}if(dr!==aH){dq=[];if(aJ.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(aI)}}while(dp!==aH){dq.push(dp);if(aJ.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(aI)}}}if(dq!==aH){if(bo.charCodeAt(bI)===34){dp=aL;bI++}else{dp=aH;if(cS===0){cu(aK)}}if(dp!==aH){dm=ds;dr=aG(dq);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}if(ds===aH){ds=bI;if(bo.charCodeAt(bI)===39){dr=aF;bI++}else{dr=aH;if(cS===0){cu(aE)}}if(dr!==aH){dq=[];if(aD.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(aC)}}while(dp!==aH){dq.push(dp);if(aD.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(aC)}}}if(dq!==aH){if(bo.charCodeAt(bI)===39){dp=aF;bI++}else{dp=aH;if(cS===0){cu(aE)}}if(dp!==aH){dm=ds;dr=aG(dq);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}return ds}function c4(){var dt,ds,dr,dq,dp;dt=bI;ds=bW();if(ds!==aH){dr=bI;if(bo.charCodeAt(bI)===46){dq=bq;bI++}else{dq=aH;if(cS===0){cu(bp)}}if(dq!==aH){dp=bW();if(dp===aH){dp=av}if(dp!==aH){dq=[dq,dp];dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}if(dr===aH){dr=av}if(dr!==aH){dm=dt;ds=ac(ds,dr);dt=ds}else{bI=dt;dt=aB}}else{bI=dt;dt=aB}if(dt===aH){dt=bI;if(bo.charCodeAt(bI)===46){ds=bq;bI++}else{ds=aH;if(cS===0){cu(bp)}}if(ds!==aH){dr=bW();if(dr!==aH){dm=dt;ds=ab(dr);dt=ds}else{bI=dt;dt=aB}}else{bI=dt;dt=aB}}return dt}function bW(){var dr,dq,dp;dr=bI;dq=[];if(aa.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(Y)}}if(dp!==aH){while(dp!==aH){dq.push(dp);if(aa.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(Y)}}}}else{dq=aB}if(dq!==aH){dm=dr;dq=X(dq)}dr=dq;return dr}function bJ(){var dp;if(bo.charCodeAt(bI)===42){dp=W;bI++}else{dp=aH;if(cS===0){cu(V)}}return dp}function a1(){var dr,dq,dp;dr=bI;dq=b4();if(dq!==aH){dm=bI;dp=U(dq);if(dp){dp=T}else{dp=aB}if(dp!==aH){dm=dr;dq=R(dq);dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}return dr}function y(){var dr,dq,dp;dr=bI;if(bo.charCodeAt(bI)===36){dq=D;bI++}else{dq=aH;if(cS===0){cu(C)}}if(dq!==aH){dp=b4();if(dp!==aH){dm=dr;dq=B(dp);dr=dq}else{bI=dr;dr=aB}}else{bI=dr;dr=aB}return dr}function br(){var ds,dr,dq,dp;ds=bI;if(bo.charCodeAt(bI)===42){dr=W;bI++}else{dr=aH;if(cS===0){cu(V)}}if(dr!==aH){dm=ds;dr=A()}ds=dr;if(ds===aH){ds=bI;dr=Q();if(dr!==aH){if(bo.charCodeAt(bI)===58){dq=z;bI++}else{dq=aH;if(cS===0){cu(x)}}if(dq!==aH){if(bo.charCodeAt(bI)===42){dp=W;bI++}else{dp=aH;if(cS===0){cu(V)}}if(dp!==aH){dm=ds;dr=u(dr);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}if(ds===aH){ds=bI;dr=b4();if(dr!==aH){dm=ds;dr=s(dr)}ds=dr}}return ds}function c5(){var dp;if(bo.substr(bI,7)===r){dp=r;bI+=7}else{dp=aH;if(cS===0){cu(q)}}if(dp===aH){if(bo.substr(bI,4)===n){dp=n;bI+=4}else{dp=aH;if(cS===0){cu(m)}}if(dp===aH){if(bo.substr(bI,22)===bN){dp=bN;bI+=22}else{dp=aH;if(cS===0){cu(bM)}}if(dp===aH){if(bo.substr(bI,4)===l){dp=l;bI+=4}else{dp=aH;if(cS===0){cu(k)}}}}}return dp}function bE(){var dq,dp;dq=[];if(j.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(h)}}if(dp!==aH){while(dp!==aH){dq.push(dp);if(j.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(h)}}}}else{dq=aB}return dq}function bB(){var dp;dp=bE();if(dp===aH){dp=av}return dp}function b4(){var dq,dp;dq=bI;dp=cR();if(dp===aH){dp=o()}if(dp!==aH){dm=dq;dp=g(dp)}dq=dp;return dq}function cR(){var ds,dr,dq,dp;ds=bI;dr=Q();if(dr!==aH){if(bo.charCodeAt(bI)===58){dq=z;bI++}else{dq=aH;if(cS===0){cu(x)}}if(dq!==aH){dp=Q();if(dp!==aH){dm=ds;dr=f(dr,dp);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}return ds}function o(){var dq,dp;dq=bI;dp=Q();if(dp!==aH){dm=dq;dp=e(dp)}dq=dp;return dq}function Q(){var dp;dp=bg();return dp}function a5(){var dp;if(dn.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(dk)}}if(dp===aH){if(bo.charCodeAt(bI)===95){dp=dj;bI++}else{dp=aH;if(cS===0){cu(di)}}if(dp===aH){if(dh.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(dg)}}if(dp===aH){if(df.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(dd)}}if(dp===aH){if(dc.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(db)}}if(dp===aH){if(da.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(c3)}}if(dp===aH){if(c2.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(c1)}}if(dp===aH){if(c0.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cZ)}}if(dp===aH){if(cY.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cX)}}if(dp===aH){if(cW.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cV)}}if(dp===aH){if(cU.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cP)}}if(dp===aH){if(cN.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cJ)}}if(dp===aH){if(cH.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cF)}}if(dp===aH){if(cD.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cB)}}}}}}}}}}}}}}}return dp}function cj(){var dp;dp=a5();if(dp===aH){if(bo.charCodeAt(bI)===45){dp=L;bI++}else{dp=aH;if(cS===0){cu(K)}}if(dp===aH){if(bo.charCodeAt(bI)===46){dp=bq;bI++}else{dp=aH;if(cS===0){cu(bp)}}if(dp===aH){if(aa.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(Y)}}if(dp===aH){if(cz.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cx)}}if(dp===aH){if(cv.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cs)}}if(dp===aH){if(cp.test(bo.charAt(bI))){dp=bo.charAt(bI);bI++}else{dp=aH;if(cS===0){cu(cn)}}}}}}}}return dp}function bg(){var ds,dr,dq,dp;ds=bI;dr=a5();if(dr!==aH){dq=[];dp=cj();while(dp!==aH){dq.push(dp);dp=cj()}if(dq!==aH){dm=ds;dr=cl(dr,dq);ds=dr}else{bI=ds;ds=aB}}else{bI=ds;ds=aB}return ds}var bV=function(dv,dt,dq,du){var ds,dr,dp={type:"",args:[]};dp.args.push(dv);for(ds=0;ds<dt.length;ds++){switch(typeof dq){case"string":dp.type=dq;break;case"object":dp.type=dt[ds][dq[0]];for(dr=1;dr<dq.length;dr++){dp.type=dp.type[dq[dr]]}break;default:dp.type=dt[ds][dq];break}dp.args.push((typeof du=="undefined")?dt[ds]:dt[ds][du]);dp={type:"",args:[dp]}}return dp.args[0]},bX=function(ds,dr,dp,dt){var dq=[];if(dp.length<1){return ds}for(i=0;i<dp.length;i++){dq.push(dp[i][dt])}return{type:"predicate",args:[dr,ds,dq]}},a4=[],aw=function(dq){var dp,dr=false;if(dq===null){return}for(dp=0;dp<a4.length;dp++){if(a4[dp]===dq){dr=true;break}}if(!dr){a4.push(dq)}},aA,cb=["comment","text","processing-instruction","node"],I=function(dq,dr,dp){if(dq=="/"){return{type:"/",args:[dr,dp]}}return{type:"/",args:[{type:"/",args:[dr,{type:"step",args:["descendant-or-self",{type:"nodeType",args:["node",[]]}]}]},dp]}};bm=b9();if(bm!==aH&&bI===bo.length){return bm}else{if(bm!==aH&&bI<bo.length){cu({type:"end",description:"end of input"})}throw c8(null,a6,a3)}}return{SyntaxError:a,parse:b}})();